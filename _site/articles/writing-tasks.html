<!doctype html>
<html class="no-js" lang="en">
  <head>
<meta charset="utf-8">
<title>Writing tasks &#8211; </title>
<meta name="description" content="?">
<meta name="keywords" content="">


<link rel="canonical" href="/articles/writing-tasks.html">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.min.css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<link rel="shortcut icon" href="/favicon.png">

  </head>

  <body class="article" itemscope itemtype="http://schema.org/WebPage">
    <div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
      <div class="article-author-top">
      &nbsp;
      </div>

      <article itemscope itemtype="http://schema.org/CreativeWork">
        <div class="headline-wrap">
          <h1 itemprop="name">Writing tasks</h1>
          <h2></h2>
        </div><!--/ .headline-wrap -->

        <div class="article-wrap" itemprop="text">
          <p>Tasks are defined with the <code>task</code> function:</p>
<div class="highlight"><pre><code class="coffeescript language-coffeescript" data-lang="coffeescript"><span class="nx">task</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
</code></pre></div>
<p>The options are:</p>

<ul>
<li><p><code>description</code>: a help line to be displayed for <code>--help</code> or <code>--tasks</code></p></li>
<li><p><code>must</code>: list of tasks that this task depends on</p></li>
<li><p><code>depends</code>: list of tasks that should be run before this task if they run at all</p></li>
<li><p><code>watch</code>/<code>watchall</code>: list of file globs that will cause this task to run</p></li>
<li><p><code>before</code>/<code>after</code>/<code>attach</code>: combine this rule with another existing rule</p></li>
<li><p><code>always</code>:</p></li>
<li><p><code>run</code>: the actual code to run for this task</p></li>
</ul>

<h2>Watching</h2>
<div class="highlight"><pre><code class="coffeescript language-coffeescript" data-lang="coffeescript"><span class="c1"># task &quot;name&quot;,</span>
<span class="c1">#   description: &quot;displayed in help&quot;</span>
<span class="c1">#   before: &quot;task&quot;  # run immediately before another task, when that task is run</span>
<span class="c1">#   after: &quot;task&quot;   # run immediately after another task, when that task is run</span>
<span class="c1">#   attach: &quot;task&quot;  # run immediately after another task, or if that task doesn&#39;t exist, replace it</span>
<span class="c1">#   depends: [ &quot;task&quot;, &quot;task&quot; ]     # if these tasks will run in the same execution, run them first</span>
<span class="c1">#   must: [ &quot;task&quot;, &quot;task&quot; ]        # run these dependent tasks first, always</span>
<span class="c1">#   watch: [ &quot;file-glob&quot; ]          # run this task when any of these files change</span>
<span class="c1">#   watchall: [ &quot;file-glob&quot; ]       # run this task when any of these files change or are deleted</span>
<span class="c1">#   always: true    # run this task always</span>
<span class="c1">#   run: (context) -&gt; ...           # code to run when executing</span>
</code></pre></div>
<h2>to-do</h2>

<p>If a task returns a promise (such as by calling <code>exec</code> -- see below), the task<br>
execution will &quot;block&quot; and not run any further tasks until the promise is<br>
fulfilled, or finished.</p>

<p>context object, what&#39;s in it</p>

        </div><!-- /.article-wrap -->

      </article>
    </div><!-- /#index -->

    <div class="footer-wrap">
      <footer>
        <span>Powered by <a href="http://jekyllrb.com">Jekyll</a> using a modified form of the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

      </footer>
    </div><!-- /.footer-wrap -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>
          

  </body>
</html>
