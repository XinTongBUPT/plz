<p><section id="table-of-contents" class="toc"><br>
  <header><br>
    <h3>Contents</h3><br>
  </header><br>
<div id="drawer" markdown="1"><br>
*  Auto generated table of contents<br>
{:toc}<br>
</div><br>
</section>&lt;!-- /#table-of-contents --&gt;</p>

<h1>Writing tasks</h1>

<p>Tasks are defined with the <code>task</code> function:</p>
<div class="highlight"><pre><code class="coffeescript language-coffeescript" data-lang="coffeescript"><span class="nx">task</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span>
</code></pre></div>
<p>The options are:</p>

<ul>
<li><p><code>description</code>: a help line to be displayed for <code>--help</code> or <code>--tasks</code></p></li>
<li><p><code>must</code>: list of tasks that this task depends on</p></li>
<li><p><code>depends</code>: list of tasks that should be run before this task if they run at all</p></li>
<li><p><code>watch</code>/<code>watchall</code>: list of file globs that will cause this task to run</p></li>
<li><p><code>before</code>/<code>after</code>/<code>attach</code>: combine this rule with another existing rule</p></li>
<li><p><code>always</code>:</p></li>
<li><p><code>run</code>: the actual code to run for this task</p></li>
</ul>

<h2>Watching</h2>
<div class="highlight"><pre><code class="coffeescript language-coffeescript" data-lang="coffeescript"><span class="c1"># task &quot;name&quot;,</span>
<span class="c1">#   description: &quot;displayed in help&quot;</span>
<span class="c1">#   before: &quot;task&quot;  # run immediately before another task, when that task is run</span>
<span class="c1">#   after: &quot;task&quot;   # run immediately after another task, when that task is run</span>
<span class="c1">#   attach: &quot;task&quot;  # run immediately after another task, or if that task doesn&#39;t exist, replace it</span>
<span class="c1">#   depends: [ &quot;task&quot;, &quot;task&quot; ]     # if these tasks will run in the same execution, run them first</span>
<span class="c1">#   must: [ &quot;task&quot;, &quot;task&quot; ]        # run these dependent tasks first, always</span>
<span class="c1">#   watch: [ &quot;file-glob&quot; ]          # run this task when any of these files change</span>
<span class="c1">#   watchall: [ &quot;file-glob&quot; ]       # run this task when any of these files change or are deleted</span>
<span class="c1">#   always: true    # run this task always</span>
<span class="c1">#   run: (context) -&gt; ...           # code to run when executing</span>
</code></pre></div>
<h2>to-do</h2>

<p>If a task returns a promise (such as by calling <code>exec</code> -- see below), the task<br>
execution will &quot;block&quot; and not run any further tasks until the promise is<br>
fulfilled, or finished.</p>

<p>context object, what&#39;s in it</p>
